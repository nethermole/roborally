about to refactor processTurn... it may have far reaching consequences